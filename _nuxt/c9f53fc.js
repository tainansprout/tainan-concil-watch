(window.webpackJsonp=window.webpackJsonp||[]).push([[10,14,16,32],{368:function(t,e,r){"use strict";r.d(e,"e",(function(){return f})),r.d(e,"b",(function(){return m})),r.d(e,"a",(function(){return v})),r.d(e,"d",(function(){return _})),r.d(e,"c",(function(){return h}));r(14),r(32),r(128),r(240),r(241),r(63),r(97),r(36),r(243),r(79);var n=r(369),c=r.n(n),o=r(96),d=r(370),l=d.a.reduce((function(t,e){return t[e.abbr||e.name]=e,t}),{});function f(t){var e=t.join(".");return e.endsWith("區")||(e+="區"),e}function m(t){if(t){if(t.name&&t.avatar)return t;var e=l[t];if(e||(e=d.a.find((function(p){return p.name===t}))),!e)throw new Error("Undefined party: ".concat(t));return e}}function v(t){return c()(t).format("YYYY.MM.DD")}function _(t){if(t){var e=t.offsetTop-o.e;setTimeout((function(){window.scrollTo({top:e,behavior:"smooth"})}))}}function h(t){var e=/st|nd|rd|th/,r=(t=t.toString()).match(e);t=t.replace(e,"");var n=o.g[t];if(!n)throw new Error("Undefined number: ".concat(t));return r?"第".concat(n):n}},370:function(t){t.exports=JSON.parse('{"a":[{"name":"中國國民黨","abbr":"國民黨","avatar":"/content-img/party-國.png"},{"name":"民主進步黨","abbr":"民進黨","avatar":"/content-img/party-民.png"},{"name":"台灣團結聯盟","avatar":"/content-img/party-台.png"},{"name":"無黨籍","avatar":"/content-img/party-無.png"},{"name":"台灣基進","avatar":"/content-img/party-基.png"},{"name":"時代力量","avatar":"/content-img/party-時.png"},{"name":"新黨","avatar":"/content-img/party-新.png"},{"name":"台灣民眾黨","avatar":"/content-img/party-眾.png"},{"name":"綠黨","avatar":"/content-img/party-綠.png"}]}')},375:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return l}));var n=r(20),c=(r(129),r(35),r(53),r(14),r(97),r(78),"台南市議會觀測站"),o=t.env.SITE_URL||"https://tcco.tnsprout.org";function d(t,content){var e,r=t.startsWith("og:")?"property":"name";return e={hid:t},Object(n.a)(e,r,t),Object(n.a)(e,"content",content),e}function l(t){var title=t.title,e=t.description,r=t.coverUrl;function n(t){return"string"==typeof t?t:"function"==typeof t?t.call(this):t.toString()}return function(){var t=n.bind(this),head={meta:[]},l="".concat(t(title=title||"")),f=l?"".concat(l," | ").concat(c):c;if(head.title=f,head.meta.push(d("og:title",f)),head.meta.push(d("twitter:title",f)),e){var m=t(e);head.meta.push(d("description",m)),head.meta.push(d("og:description",m)),head.meta.push(d("twitter:description",m))}if(r){var v=t(r);v&&(v.startsWith("/")?v="".concat(o).concat(v):v.startsWith("http")||(v="".concat(o,"/").concat(v)),head.meta.push(d("og:image",v)),head.meta.push(d("twitter:image",v)),head.meta.push(d("twitter:card","summary_large_image")))}if(this&&(title||e||r)){var _="".concat(o).concat(this.$route.path);head.meta.push(d("og:url",_))}return head}}}).call(this,r(98))},381:function(t,e,r){"use strict";var n=r(15),c=r(7),o=r(5),d=r(130),l=r(22),f=r(17),m=r(246),v=r(56),_=r(99),h=r(245),y=r(6),w=r(100).f,x=r(47).f,C=r(21).f,A=r(393),I=r(244).trim,L="Number",k=c.Number,N=k.prototype,T=c.TypeError,j=o("".slice),O=o("".charCodeAt),M=function(t){var e=h(t,"number");return"bigint"==typeof e?e:E(e)},E=function(t){var e,r,n,c,o,d,l,code,f=h(t,"number");if(_(f))throw T("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=I(f),43===(e=O(f,0))||45===e){if(88===(r=O(f,2))||120===r)return NaN}else if(48===e){switch(O(f,1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+f}for(d=(o=j(f,2)).length,l=0;l<d;l++)if((code=O(o,l))<48||code>c)return NaN;return parseInt(o,n)}return+f};if(d(L,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var S,D=function(t){var e=arguments.length<1?0:k(M(t)),r=this;return v(N,r)&&y((function(){A(r)}))?m(Object(e),r,D):e},F=n?w(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),G=0;F.length>G;G++)f(k,S=F[G])&&!f(D,S)&&C(D,S,x(k,S));D.prototype=N,N.constructor=D,l(c,L,D,{constructor:!0})}},387:function(t,e,r){var content=r(410);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(34).default)("482e6218",content,!0,{sourceMap:!1})},388:function(t,e,r){var content=r(412);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(34).default)("5df1aa9a",content,!0,{sourceMap:!1})},393:function(t,e,r){var n=r(5);t.exports=n(1..valueOf)},408:function(t,e,r){var content=r(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(34).default)("3eedbf3c",content,!0,{sourceMap:!1})},409:function(t,e,r){"use strict";r(387)},410:function(t,e,r){var n=r(33)(!1);n.push([t.i,'.tcwTitle[data-v-b9ab4568]{position:relative;margin:3rem 0 1rem}@media screen and (min-width:60em){.tcwTitle[data-v-b9ab4568]{margin:10rem 0 2.5rem}}.tcwTitle[data-v-b9ab4568]:before{content:" ";height:0;position:absolute;left:0;right:0;top:50%;border:1px solid #d8d8d8}.tcwTitle__content[data-v-b9ab4568]{padding-right:.75rem;letter-spacing:3px}',""]),t.exports=n},411:function(t,e,r){"use strict";r(388)},412:function(t,e,r){var n=r(33)(!1);n.push([t.i,"@media screen and (min-width:30em)and (max-width:60em){.districtLanding__list[data-v-f54d9db6]{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:2rem;-moz-column-gap:2rem;column-gap:2rem;grid-row-gap:1rem;row-gap:1rem}.districtLanding__map[data-v-f54d9db6]{max-width:50vh;margin:2rem auto 0}}@media screen and (min-width:30em)and (max-width:60em)and (orientation:landscape){.districtLanding[data-v-f54d9db6]{display:grid;grid-template-columns:20rem 1fr;align-items:center}.districtLanding__list[data-v-f54d9db6]{display:block}.districtLanding__map[data-v-f54d9db6]{max-width:100vh;width:calc(96vw - 20rem);margin:0 auto}}@media screen and (min-width:60em){.districtLanding[data-v-f54d9db6]{display:grid;grid-template-columns:20rem 1fr;align-items:center}}.district+.district[data-v-f54d9db6]{margin-top:.5rem}@media screen and (min-width:30em)and (max-width:60em){.district+.district[data-v-f54d9db6]{margin:0}}@media screen and (min-width:30em)and (max-width:60em)and (orientation:landscape){.district+.district[data-v-f54d9db6]{margin-top:.5rem}}@media screen and (min-width:60em){.district+.district[data-v-f54d9db6]{margin-top:1.25rem}}.district__card[data-v-f54d9db6]{border:1px solid #d8d8d8;border-top:6px solid #8dee72}",""]),t.exports=n},416:function(t,e,r){var content=r(453);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(34).default)("4cdf135a",content,!0,{sourceMap:!1})},430:function(t,e,r){"use strict";r.r(e);var n={props:{level:{type:String,default:"h1"},id:{type:String,default:""}}},c=(r(409),r(27)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(t.level,{tag:"component",staticClass:"tcwTitle f3 f2-l fw5",attrs:{id:t.id}},[r("div",{staticClass:"tcwTitle__content relative bg-white dib"},[t._t("default")],2)])}),[],!1,null,"b9ab4568",null);e.default=component.exports},431:function(t,e,r){"use strict";r.r(e);r(240),r(63),r(51),r(81),r(52);var n=r(376),defs=r(96),c={props:{map:{type:Object,required:!0},round:{type:String,required:!0},target:{type:String,default:""}},data:function(){return{focusedArea:null,isFocusedAreaDirty:!1}},computed:{districtList:function(){return defs.d}},methods:{mouseoverTown:function(t){t.endsWith("區")||(t="".concat(t,"區")),this.setFocusedArea("town",t)},mouseleaveTown:function(){this.resetFocusedArea()},mouseoverDistrict:Object(n.debounce)((function(t){this.setFocusedArea("district",Object(defs.h)(t))}),100),mouseleaveDistrict:function(){this.resetFocusedArea()},setFocusedArea:function(t,e){this.isFocusedAreaDirty=!1,this.focusedArea={type:t,id:e}},resetFocusedArea:function(){var t=this;this.isFocusedAreaDirty=!0,setTimeout((function(){t.isFocusedAreaDirty&&t.focusedArea&&(t.focusedArea=null)}),200)},isDistrictActive:function(t){return this.focusedArea&&"district"===this.focusedArea.type&&this.focusedArea.id.includes(t)},isTownActive:function(t){return this.focusedArea&&"town"===this.focusedArea.type&&this.focusedArea.id.includes(t)},districtLink:function(t){return{name:"round-district-district",params:{round:this.round,district:Object(defs.h)(t)}}},districtId:function(t){return"district-".concat(t)},districtMeta:function(t){return this.map[Object(defs.h)(t)]}}},o=(r(411),r(27)),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"districtLanding"},[r("div",{staticClass:"districtLanding__list"},t._l(t.districtList,(function(e){return r("div",{staticClass:"district"},[r("nuxt-link",{staticClass:"district__card db dn-ns pa3 relative",attrs:{to:t.districtLink(e),id:t.districtId(e)}},[r("district-text",{attrs:{district:t.districtMeta(e),"active-area":t.focusedArea,"is-single-element":!0,"is-quota-visible":!0},on:{"update:activeArea":function(e){t.focusedArea=e},"update:active-area":function(e){t.focusedArea=e}}}),r("tcw-icon",{staticClass:"absolute top-0 right-0 mt3 mr3",attrs:{icon:"chevron-down-gray"}})],1),r("nuxt-link",{staticClass:"district__interact dn db-ns",attrs:{to:t.districtLink(e),id:t.districtId(e)}},[r("district-text",{attrs:{district:t.districtMeta(e),"active-area":t.focusedArea},on:{"update:activeArea":function(e){t.focusedArea=e},"update:active-area":function(e){t.focusedArea=e}}})],1),t.target&&t.target===e?r("div",{staticClass:"db dn-ns"},[t._t("default")],2):t._e()],1)})),0),r("div",{staticClass:"districtLanding__map dn db-ns"},[r("district-map",{attrs:{map:t.map,focus:t.focusedArea},on:{"hover-town":t.mouseoverTown,"out-town":t.mouseleaveTown,"hover-district":t.mouseoverDistrict,"out-district":t.mouseleaveDistrict}})],1)])}),[],!1,null,"f54d9db6",null);e.default=component.exports;installComponents(component,{DistrictText:r(380).default,TcwIcon:r(242).default,DistrictMap:r(461).default})},444:function(t,e,r){t.exports=r.p+"img/cover.385ef95.svg"},445:function(t,e,r){t.exports=r.p+"img/cover-ns.97f5625.svg"},446:function(t,e,r){var n=r(3),c=r(447);n({target:"Number",stat:!0,forced:Number.parseInt!=c},{parseInt:c})},447:function(t,e,r){var n=r(7),c=r(6),o=r(5),d=r(16),l=r(244).trim,f=r(162),m=n.parseInt,v=n.Symbol,_=v&&v.iterator,h=/^[+-]?0x/i,y=o(h.exec),w=8!==m(f+"08")||22!==m(f+"0x16")||_&&!c((function(){m(Object(_))}));t.exports=w?function(t,e){var r=l(d(t));return m(r,e>>>0||(y(h,r)?16:10))}:m},448:function(t,e,r){"use strict";r(408)},449:function(t,e,r){var n=r(33)(!1);n.push([t.i,".landingCover[data-v-6133da81]{line-height:normal}.landingCover__title[data-v-6133da81]{color:#282828;letter-spacing:2px;font-size:5.75vw;margin:0}.landingCover__subtitle[data-v-6133da81]{color:#7a7c7d;font-size:3.75vw;letter-spacing:1px;margin-top:.5rem}.landingCover__header[data-v-6133da81]{top:13vw;left:7vw}.landingCover__cover[data-v-6133da81]{width:100%;padding-top:74.394%}@media screen and (min-width:30em){.landingCover__title[data-v-6133da81]{letter-spacing:4px}.landingCover__subtitle[data-v-6133da81]{letter-spacing:3px}.landingCover__cover[data-v-6133da81]{padding-top:57.13%}}@media screen and (min-width:70em){.landingCover[data-v-6133da81]{left:-1.5rem;right:-1.5rem}.landingCover__header[data-v-6133da81]{top:8rem;left:5rem}.landingCover__title[data-v-6133da81]{letter-spacing:4px;font-size:3.5rem}.landingCover__subtitle[data-v-6133da81]{font-size:2.25rem;letter-spacing:3px}}",""]),t.exports=n},452:function(t,e,r){"use strict";r(416)},453:function(t,e,r){var n=r(33)(!1);n.push([t.i,".articleGallery__category[data-v-23d966fa]{display:block;padding:0 1.25rem 100%}.articleGallery__category+.articleGallery__category[data-v-23d966fa]{margin-top:1rem}.articleGallery__title[data-v-23d966fa]{height:54%;margin-bottom:2.25rem;background:hsla(0,0%,100%,.9019607843);left:1.25rem;right:1.25rem}@media screen and (min-width:30em){.articleGallery[data-v-23d966fa]{display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem}.articleGallery__category[data-v-23d966fa]{border:2px solid transparent}.articleGallery__category+.articleGallery__category[data-v-23d966fa]{margin-top:0}.articleGallery__category[data-v-23d966fa]:hover{border-color:#d8d8d8}}",""]),t.exports=n},484:function(t,e,r){var content=r(573);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(34).default)("a56a9314",content,!0,{sourceMap:!1})},494:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"landingCover__cover"},[e("img",{staticClass:"aspect-ratio--object db dn-ns",attrs:{src:r(444)}}),e("img",{staticClass:"aspect-ratio--object dn db-ns",attrs:{src:r(445)}})])}],c=(r(446),r(381),r(78),r(368)),o={props:{round:{type:String,required:!0}},computed:{roundLabel:function(){var t=Object(c.c)(this.round),e=2010+4*((Number.parseInt(this.round,10)||3)-1),r=e+4;return"".concat(e,"-").concat(r," ").concat(t,"屆議會")}}},d=(r(448),r(27)),component=Object(d.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"landingCover relative"},[t._m(0),r("div",{staticClass:"landingCover__header absolute"},[r("h1",{staticClass:"landingCover__title fw5"},[t._v("台南市議會觀測站")]),r("div",{staticClass:"landingCover__subtitle",attrs:{role:"doc-subtitle"}},[t._v(t._s(t.roundLabel))])])])}),n,!1,null,"6133da81",null);e.default=component.exports},497:function(t,e,r){"use strict";r.r(e);r(14),r(32);var n={props:{categories:{type:Array,required:!0,validator:function(t){return Array.isArray(t)&&t.every((function(t){return t.slug&&t.name&&t.coverImage}))}}},methods:{categoryLink:function(t){return{name:"article-category-category",params:{category:t.slug}}},categoryStyle:function(t){return{backgroundImage:"url(".concat(t.coverImage,")")}}}},c=(r(452),r(27)),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"articleGallery"},t._l(t.categories,(function(e){return r("nuxt-link",{key:e.slug,staticClass:"articleGallery__category bg-center cover relative br1",style:t.categoryStyle(e),attrs:{to:t.categoryLink(e)}},[r("h3",{staticClass:"articleGallery__title flex items-center justify-center f3 ls4 absolute bottom-0"},[t._v(t._s(e.name))])])})),1)}),[],!1,null,"23d966fa",null);e.default=component.exports},572:function(t,e,r){"use strict";r(484)},573:function(t,e,r){var n=r(33)(!1);n.push([t.i,".landing[data-v-33cc1c5e]{padding-top:.5rem}.landing__navLinks[data-v-33cc1c5e]{width:calc(100vw - 2rem);max-width:18rem;margin:3.5rem auto}.landing__navLinks a[data-v-33cc1c5e]{letter-spacing:1.33px;color:#49b0d5;text-decoration:underline;-webkit-text-decoration-color:#49b0d5;text-decoration-color:#49b0d5}.landing__navLinks a[data-v-33cc1c5e]:hover{font-weight:500;text-decoration:none}.landing__section[data-v-33cc1c5e]{margin:1.5rem 0 3.5rem}@media screen and (min-width:30em){.landing[data-v-33cc1c5e]{padding-top:2.25rem}.landing__navLinks[data-v-33cc1c5e]{max-width:35rem;margin:2.25rem auto 8.25rem;font-size:1.75rem;letter-spacing:2.33px}.landing__section[data-v-33cc1c5e]{margin:6rem 0 9.75rem}.landing__section--tight[data-v-33cc1c5e]{margin-top:3.5rem}}",""]),t.exports=n},609:function(t,e,r){"use strict";r.r(e);var n=r(12),c=(r(64),r(14),r(40),r(41),r(52),r(428),r(429),r(37),r(241),r(44),r(36),r(159),r(376)),o=r(368),defs=r(96),d=r(375),l={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,o,d,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.params,t.redirect,c=n.round||defs.b,e.next=4,r("council",c,"district-map").fetch();case 4:return o=e.sent,e.next=7,r("setting").where({type:"articleCategory"}).sortBy("order").fetch();case 7:return d=e.sent,e.next=10,Promise.all(d.map((function(t){return r("article").where({category:t.slug}).only(["coverImage","category"]).sortBy("createdAt","desc").limit(1).fetch()})));case 10:return l=(l=e.sent).flatMap((function(t){return t})),d.forEach((function(t){var article=l.find((function(article){return t.slug===article.category}));article&&(t.coverImage=article.coverImage)})),d=d.filter((function(t){return t.coverImage})),e.abrupt("return",{consMap:o,round:c,articleCategories:d});case 15:case"end":return e.stop()}}),e)})))()},head:Object(d.b)({title:function(){return"".concat(Object(o.c)(this.round),"屆")}}),computed:{navLinks:function(){return defs.f}},methods:{genNavLink:function(link){return"搜質詢"!==link.label?"#".concat(link.label):link.route(this.round)},handleNavClick:function(t){var e=Object(c.get)(t,"target.attributes.href.value","").split("#");if(!(e.length<=1)){var r=decodeURIComponent(e[1]),n=this.$refs[r];n&&(Object(o.d)(n.$el),t.preventDefault())}}}},f=(r(572),r(27)),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"landing pageContainer"},[r("div",{staticClass:"landing__entry mt5"},[r("landing-cover",{attrs:{round:t.round}}),r("div",{staticClass:"landing__navLinks flex justify-between center"},t._l(t.navLinks,(function(link){return r("nuxt-link",{key:link.label,attrs:{to:t.genNavLink(link)},nativeOn:{click:function(e){return t.handleNavClick.apply(null,arguments)}}},[t._v(t._s(link.label))])})),1)],1),r("tcw-title",{ref:"看選區",attrs:{level:"h2",id:"看選區"}},[t._v("看選區")]),r("div",{staticClass:"landing__section"},[r("district-landing",{attrs:{map:t.consMap,round:t.round}})],1),r("tcw-title",{ref:"找議員",attrs:{level:"h2",id:"找議員"}},[t._v("找議員")]),r("div",{staticClass:"landing__section landing__section--tight"},[r("councilor-landing",{attrs:{map:t.consMap,round:t.round}})],1),r("tcw-title",{ref:"讀分析",attrs:{level:"h2",id:"讀分析"}},[t._v("讀分析")]),r("div",{staticClass:"landing__section"},[r("article-gallery",{attrs:{categories:t.articleCategories}})],1)],1)}),[],!1,null,"33cc1c5e",null);e.default=component.exports;installComponents(component,{LandingCover:r(494).default,TcwTitle:r(430).default,DistrictLanding:r(431).default,CouncilorLanding:r(495).default,ArticleGallery:r(497).default})}}]);