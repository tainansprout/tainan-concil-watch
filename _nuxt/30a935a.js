(window.webpackJsonp=window.webpackJsonp||[]).push([[10,14,16,32],{379:function(t,e,r){"use strict";r.d(e,"e",(function(){return f})),r.d(e,"b",(function(){return m})),r.d(e,"a",(function(){return v})),r.d(e,"d",(function(){return _})),r.d(e,"c",(function(){return h}));r(13),r(34),r(132),r(249),r(250),r(65),r(82),r(35),r(163),r(81);var n=r(380),c=r.n(n),o=r(101),d=r(381),l=d.a.reduce((function(t,e){return t[e.abbr||e.name]=e,t}),{});function f(t){var e=t.join(".");return e.endsWith("區")||(e+="區"),e}function m(t){if(t){if(t.name&&t.avatar)return t;var e=l[t];if(e||(e=d.a.find((function(p){return p.name===t}))),!e)throw new Error("Undefined party: ".concat(t));return e}}function v(t){return c()(t).format("YYYY.MM.DD")}function _(t){if(t){var e=t.offsetTop-o.e;setTimeout((function(){window.scrollTo({top:e,behavior:"smooth"})}))}}function h(t){var e=/st|nd|rd|th/,r=(t=t.toString()).match(e);t=t.replace(e,"");var n=o.g[t];if(!n)throw new Error("Undefined number: ".concat(t));return r?"第".concat(n):n}},381:function(t){t.exports=JSON.parse('{"a":[{"name":"中國國民黨","abbr":"國民黨","avatar":"/content-img/party-國.png"},{"name":"民主進步黨","abbr":"民進黨","avatar":"/content-img/party-民.png"},{"name":"台灣團結聯盟","avatar":"/content-img/party-台.png"},{"name":"無黨籍","avatar":"/content-img/party-無.png"},{"name":"台灣基進","avatar":"/content-img/party-基.png"},{"name":"時代力量","avatar":"/content-img/party-時.png"},{"name":"新黨","avatar":"/content-img/party-新.png"},{"name":"台灣民眾黨","avatar":"/content-img/party-眾.png"},{"name":"綠黨","avatar":"/content-img/party-綠.png"}]}')},391:function(t,e,r){"use strict";var n=r(14),c=r(6),o=r(7),d=r(134),l=r(23),f=r(17),m=r(254),v=r(59),_=r(102),h=r(253),y=r(5),w=r(103).f,x=r(47).f,C=r(22).f,A=r(403),k=r(252).trim,I="Number",L=c.Number,N=L.prototype,T=c.TypeError,M=o("".slice),j=o("".charCodeAt),O=function(t){var e=h(t,"number");return"bigint"==typeof e?e:S(e)},S=function(t){var e,r,n,c,o,d,l,code,f=h(t,"number");if(_(f))throw T("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=k(f),43===(e=j(f,0))||45===e){if(88===(r=j(f,2))||120===r)return NaN}else if(48===e){switch(j(f,1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+f}for(d=(o=M(f,2)).length,l=0;l<d;l++)if((code=j(o,l))<48||code>c)return NaN;return parseInt(o,n)}return+f};if(d(I,!L(" 0o1")||!L("0b1")||L("+0x1"))){for(var D,E=function(t){var e=arguments.length<1?0:L(O(t)),r=this;return v(N,r)&&y((function(){A(r)}))?m(Object(e),r,E):e},F=n?w(L):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),G=0;F.length>G;G++)f(L,D=F[G])&&!f(E,D)&&C(E,D,x(L,D));E.prototype=N,N.constructor=E,l(c,I,E,{constructor:!0})}},397:function(t,e,r){var content=r(420);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("4495914e",content,!0,{sourceMap:!1})},398:function(t,e,r){var content=r(422);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("bbd3b164",content,!0,{sourceMap:!1})},403:function(t,e,r){var n=r(7);t.exports=n(1..valueOf)},418:function(t,e,r){var content=r(459);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("112aa422",content,!0,{sourceMap:!1})},419:function(t,e,r){"use strict";r(397)},420:function(t,e,r){var n=r(32)(!1);n.push([t.i,'.tcwTitle[data-v-b9ab4568]{position:relative;margin:3rem 0 1rem}@media screen and (min-width:60em){.tcwTitle[data-v-b9ab4568]{margin:10rem 0 2.5rem}}.tcwTitle[data-v-b9ab4568]:before{content:" ";height:0;position:absolute;left:0;right:0;top:50%;border:1px solid #d8d8d8}.tcwTitle__content[data-v-b9ab4568]{padding-right:.75rem;letter-spacing:3px}',""]),t.exports=n},421:function(t,e,r){"use strict";r(398)},422:function(t,e,r){var n=r(32)(!1);n.push([t.i,"@media screen and (min-width:30em) and (max-width:60em){.districtLanding__list[data-v-f54d9db6]{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:2rem;-moz-column-gap:2rem;column-gap:2rem;grid-row-gap:1rem;row-gap:1rem}.districtLanding__map[data-v-f54d9db6]{max-width:50vh;margin:2rem auto 0}}@media screen and (min-width:30em) and (max-width:60em) and (orientation:landscape){.districtLanding[data-v-f54d9db6]{display:grid;grid-template-columns:20rem 1fr;align-items:center}.districtLanding__list[data-v-f54d9db6]{display:block}.districtLanding__map[data-v-f54d9db6]{max-width:100vh;width:calc(96vw - 20rem);margin:0 auto}}@media screen and (min-width:60em){.districtLanding[data-v-f54d9db6]{display:grid;grid-template-columns:20rem 1fr;align-items:center}}.district+.district[data-v-f54d9db6]{margin-top:.5rem}@media screen and (min-width:30em) and (max-width:60em){.district+.district[data-v-f54d9db6]{margin:0}}@media screen and (min-width:30em) and (max-width:60em) and (orientation:landscape){.district+.district[data-v-f54d9db6]{margin-top:.5rem}}@media screen and (min-width:60em){.district+.district[data-v-f54d9db6]{margin-top:1.25rem}}.district__card[data-v-f54d9db6]{border:1px solid #d8d8d8;border-top:6px solid #8dee72}",""]),t.exports=n},426:function(t,e,r){var content=r(463);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("bcb75122",content,!0,{sourceMap:!1})},440:function(t,e,r){"use strict";r.r(e);var n={props:{level:{type:String,default:"h1"},id:{type:String,default:""}}},c=(r(419),r(27)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e(t.level,{tag:"component",staticClass:"tcwTitle f3 f2-l fw5",attrs:{id:t.id}},[e("div",{staticClass:"tcwTitle__content relative bg-white dib"},[t._t("default")],2)])}),[],!1,null,"b9ab4568",null);e.default=component.exports},441:function(t,e,r){"use strict";r.r(e);r(53),r(249),r(65),r(54),r(84);var n=r(386),defs=r(101),c={props:{map:{type:Object,required:!0},round:{type:String,required:!0},target:{type:String,default:""}},data:function(){return{focusedArea:null,isFocusedAreaDirty:!1}},computed:{districtList:function(){return defs.d}},methods:{mouseoverTown:function(t){t.endsWith("區")||(t="".concat(t,"區")),this.setFocusedArea("town",t)},mouseleaveTown:function(){this.resetFocusedArea()},mouseoverDistrict:Object(n.debounce)((function(t){this.setFocusedArea("district",Object(defs.h)(t))}),100),mouseleaveDistrict:function(){this.resetFocusedArea()},setFocusedArea:function(t,e){this.isFocusedAreaDirty=!1,this.focusedArea={type:t,id:e}},resetFocusedArea:function(){var t=this;this.isFocusedAreaDirty=!0,setTimeout((function(){t.isFocusedAreaDirty&&t.focusedArea&&(t.focusedArea=null)}),200)},isDistrictActive:function(t){return this.focusedArea&&"district"===this.focusedArea.type&&this.focusedArea.id.includes(t)},isTownActive:function(t){return this.focusedArea&&"town"===this.focusedArea.type&&this.focusedArea.id.includes(t)},districtLink:function(t){return{name:"round-district-district",params:{round:this.round,district:Object(defs.h)(t)}}},districtId:function(t){return"district-".concat(t)},districtMeta:function(t){return this.map[Object(defs.h)(t)]}}},o=(r(421),r(27)),component=Object(o.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"districtLanding"},[e("div",{staticClass:"districtLanding__list"},t._l(t.districtList,(function(r){return e("div",{staticClass:"district"},[e("nuxt-link",{staticClass:"district__card db dn-ns pa3 relative",attrs:{to:t.districtLink(r),id:t.districtId(r)}},[e("district-text",{attrs:{district:t.districtMeta(r),"active-area":t.focusedArea,"is-single-element":!0,"is-quota-visible":!0},on:{"update:activeArea":function(e){t.focusedArea=e},"update:active-area":function(e){t.focusedArea=e}}}),e("tcw-icon",{staticClass:"absolute top-0 right-0 mt3 mr3",attrs:{icon:"chevron-down-gray"}})],1),e("nuxt-link",{staticClass:"district__interact dn db-ns",attrs:{to:t.districtLink(r),id:t.districtId(r)}},[e("district-text",{attrs:{district:t.districtMeta(r),"active-area":t.focusedArea},on:{"update:activeArea":function(e){t.focusedArea=e},"update:active-area":function(e){t.focusedArea=e}}})],1),t.target&&t.target===r?e("div",{staticClass:"db dn-ns"},[t._t("default")],2):t._e()],1)})),0),e("div",{staticClass:"districtLanding__map dn db-ns"},[e("district-map",{attrs:{map:t.map,focus:t.focusedArea},on:{"hover-town":t.mouseoverTown,"out-town":t.mouseleaveTown,"hover-district":t.mouseoverDistrict,"out-district":t.mouseleaveDistrict}})],1)])}),[],!1,null,"f54d9db6",null);e.default=component.exports;installComponents(component,{DistrictText:r(390).default,TcwIcon:r(251).default,DistrictMap:r(471).default})},454:function(t,e,r){t.exports=r.p+"img/cover.385ef95.svg"},455:function(t,e,r){t.exports=r.p+"img/cover-ns.97f5625.svg"},456:function(t,e,r){var n=r(3),c=r(457);n({target:"Number",stat:!0,forced:Number.parseInt!=c},{parseInt:c})},457:function(t,e,r){var n=r(6),c=r(5),o=r(7),d=r(16),l=r(252).trim,f=r(167),m=n.parseInt,v=n.Symbol,_=v&&v.iterator,h=/^[+-]?0x/i,y=o(h.exec),w=8!==m(f+"08")||22!==m(f+"0x16")||_&&!c((function(){m(Object(_))}));t.exports=w?function(t,e){var r=l(d(t));return m(r,e>>>0||(y(h,r)?16:10))}:m},458:function(t,e,r){"use strict";r(418)},459:function(t,e,r){var n=r(32)(!1);n.push([t.i,".landingCover[data-v-6133da81]{line-height:normal}.landingCover__title[data-v-6133da81]{color:#282828;letter-spacing:2px;font-size:5.75vw;margin:0}.landingCover__subtitle[data-v-6133da81]{color:#7a7c7d;font-size:3.75vw;letter-spacing:1px;margin-top:.5rem}.landingCover__header[data-v-6133da81]{top:13vw;left:7vw}.landingCover__cover[data-v-6133da81]{width:100%;padding-top:74.394%}@media screen and (min-width:30em){.landingCover__title[data-v-6133da81]{letter-spacing:4px}.landingCover__subtitle[data-v-6133da81]{letter-spacing:3px}.landingCover__cover[data-v-6133da81]{padding-top:57.13%}}@media screen and (min-width:70em){.landingCover[data-v-6133da81]{left:-1.5rem;right:-1.5rem}.landingCover__header[data-v-6133da81]{top:8rem;left:5rem}.landingCover__title[data-v-6133da81]{letter-spacing:4px;font-size:3.5rem}.landingCover__subtitle[data-v-6133da81]{font-size:2.25rem;letter-spacing:3px}}",""]),t.exports=n},462:function(t,e,r){"use strict";r(426)},463:function(t,e,r){var n=r(32)(!1);n.push([t.i,".articleGallery__category[data-v-23d966fa]{display:block;padding:0 1.25rem 100%}.articleGallery__category+.articleGallery__category[data-v-23d966fa]{margin-top:1rem}.articleGallery__title[data-v-23d966fa]{height:54%;margin-bottom:2.25rem;background:hsla(0,0%,100%,.90196);left:1.25rem;right:1.25rem}@media screen and (min-width:30em){.articleGallery[data-v-23d966fa]{display:grid;grid-template-columns:repeat(3,1fr);grid-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem}.articleGallery__category[data-v-23d966fa]{border:2px solid transparent}.articleGallery__category+.articleGallery__category[data-v-23d966fa]{margin-top:0}.articleGallery__category[data-v-23d966fa]:hover{border-color:#d8d8d8}}",""]),t.exports=n},495:function(t,e,r){var content=r(589);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("4db717e9",content,!0,{sourceMap:!1})},505:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this._self._c;return t("div",{staticClass:"landingCover__cover"},[t("img",{staticClass:"aspect-ratio--object db dn-ns",attrs:{src:r(454)}}),t("img",{staticClass:"aspect-ratio--object dn db-ns",attrs:{src:r(455)}})])}],c=(r(456),r(391),r(66),r(379)),o={props:{round:{type:String,required:!0}},computed:{roundLabel:function(){var t=Object(c.c)(this.round),e=2010+4*((Number.parseInt(this.round,10)||3)-1),r=e+4;return"".concat(e,"-").concat(r," ").concat(t,"屆議會")}}},d=(r(458),r(27)),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"landingCover relative"},[t._m(0),e("div",{staticClass:"landingCover__header absolute"},[e("h1",{staticClass:"landingCover__title fw5"},[t._v("台南市議會觀測站")]),e("div",{staticClass:"landingCover__subtitle",attrs:{role:"doc-subtitle"}},[t._v(t._s(t.roundLabel))])])])}),n,!1,null,"6133da81",null);e.default=component.exports},508:function(t,e,r){"use strict";r.r(e);r(34),r(13);var n={props:{categories:{type:Array,required:!0,validator:function(t){return Array.isArray(t)&&t.every((function(t){return t.slug&&t.name&&t.coverImage}))}}},methods:{categoryLink:function(t){return{name:"article-category-category",params:{category:t.slug}}},categoryStyle:function(t){return{backgroundImage:"url(".concat(t.coverImage,")")}}}},c=(r(462),r(27)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"articleGallery"},t._l(t.categories,(function(r){return e("nuxt-link",{key:r.slug,staticClass:"articleGallery__category bg-center cover relative br1",style:t.categoryStyle(r),attrs:{to:t.categoryLink(r)}},[e("h3",{staticClass:"articleGallery__title flex items-center justify-center f3 ls4 absolute bottom-0"},[t._v(t._s(r.name))])])})),1)}),[],!1,null,"23d966fa",null);e.default=component.exports},588:function(t,e,r){"use strict";r(495)},589:function(t,e,r){var n=r(32)(!1);n.push([t.i,".landing[data-v-21b1104e]{padding-top:.5rem}.landing__navLinks[data-v-21b1104e]{width:calc(100vw - 2rem);max-width:18rem;margin:3.5rem auto}.landing__navLinks a[data-v-21b1104e]{letter-spacing:1.33px;color:#49b0d5;text-decoration:underline;-webkit-text-decoration-color:#49b0d5;text-decoration-color:#49b0d5}.landing__navLinks a[data-v-21b1104e]:hover{font-weight:500;text-decoration:none}.landing__section[data-v-21b1104e]{margin:1.5rem 0 3.5rem}@media screen and (min-width:30em){.landing[data-v-21b1104e]{padding-top:2.25rem}.landing__navLinks[data-v-21b1104e]{max-width:35rem;margin:2.25rem auto 8.25rem;font-size:1.75rem;letter-spacing:2.33px}.landing__section[data-v-21b1104e]{margin:6rem 0 9.75rem}.landing__section--tight[data-v-21b1104e]{margin-top:3.5rem}}",""]),t.exports=n},626:function(t,e,r){"use strict";r.r(e);var n=r(12),c=(r(67),r(13),r(40),r(41),r(53),r(438),r(439),r(37),r(250),r(44),r(386)),o=r(379),defs=r(101),d=r(133),l={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,o,d,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.params,c=t.redirect,o=n.round||defs.b,d={},e.prev=3,e.next=6,r("council",o,"district-map").fetch();case 6:d=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),c("/".concat(defs.b));case 12:return e.next=14,r("setting").where({type:"articleCategory"}).sortBy("order").fetch();case 14:return l=e.sent,e.next=17,Promise.all(l.map((function(t){return r("article").where({category:t.slug}).only(["coverImage","category"]).sortBy("createdAt","desc").limit(1).fetch()})));case 17:return f=(f=e.sent).flatMap((function(t){return t})),l.forEach((function(t){var article=f.find((function(article){return t.slug===article.category}));article&&(t.coverImage=article.coverImage)})),l=l.filter((function(t){return t.coverImage})),e.abrupt("return",{consMap:d,round:o,articleCategories:l});case 22:case"end":return e.stop()}}),e,null,[[3,9]])})))()},head:Object(d.b)({title:function(){return"".concat(Object(o.c)(this.round),"屆")}}),computed:{navLinks:function(){return defs.f}},methods:{genNavLink:function(link){return"搜質詢"!==link.label?"#".concat(link.label):link.route(this.round)},handleNavClick:function(t){var e=Object(c.get)(t,"target.attributes.href.value","").split("#");if(!(e.length<=1)){var r=decodeURIComponent(e[1]),n=this.$refs[r];n&&(Object(o.d)(n.$el),t.preventDefault())}}}},f=(r(588),r(27)),component=Object(f.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"landing pageContainer"},[e("div",{staticClass:"landing__entry mt5"},[e("landing-cover",{attrs:{round:t.round}}),e("div",{staticClass:"landing__navLinks flex justify-between center"},t._l(t.navLinks,(function(link){return e("nuxt-link",{key:link.label,attrs:{to:t.genNavLink(link)},nativeOn:{click:function(e){return t.handleNavClick.apply(null,arguments)}}},[t._v(t._s(link.label))])})),1)],1),e("tcw-title",{ref:"看選區",attrs:{level:"h2",id:"看選區"}},[t._v("看選區")]),e("div",{staticClass:"landing__section"},[e("district-landing",{attrs:{map:t.consMap,round:t.round}})],1),e("tcw-title",{ref:"找議員",attrs:{level:"h2",id:"找議員"}},[t._v("找議員")]),e("div",{staticClass:"landing__section landing__section--tight"},[e("councilor-landing",{attrs:{map:t.consMap,round:t.round}})],1),e("tcw-title",{ref:"讀分析",attrs:{level:"h2",id:"讀分析"}},[t._v("讀分析")]),e("div",{staticClass:"landing__section"},[e("article-gallery",{attrs:{categories:t.articleCategories}})],1)],1)}),[],!1,null,"21b1104e",null);e.default=component.exports;installComponents(component,{LandingCover:r(505).default,TcwTitle:r(440).default,DistrictLanding:r(441).default,CouncilorLanding:r(506).default,ArticleGallery:r(508).default})}}]);